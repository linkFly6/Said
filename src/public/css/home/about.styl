// 动态打字效果的光标生成函数
@require './lib/typed'

font-code()
  font-family Consolas,Segoe UI Light, Calibri,Lucida Sans Unicode,Verdana,Arial,Helvetica

// banner
.container
  position relative
  // background steelblue linear-gradient(to right bottom, skyblue, steelblue, teal, lightseagreen)
  // 底部说明的占位符块（没有任何内容）
  .place-bottom
    margin-bottom 371px
  // 文字阴影
  .shadow-text
    text-shadow 1px 1px 1px rgba(0,0,0,0.6)
    &.white-shadow
      color white
  .color-white
    color rgba(255,255,255,.8)
  .content-one
    $contentHeight = 80rem
    /*
      第一栏最外层容器，要包上滚动的距离
      默认高度是 80 rem
      2243px（滚动距离）/14px == 80rem
      80rem（滚动距离） + 80rem（背景高度） = 容器高度
      容器高度 - 5rem（顶部导航的高度） = 最终高度
     */
    height $contentHeight + 80rem - 5rem
    .bg-one
      overflow hidden
      width 100%
      text-align center
      z-index 1
      // position fixed
      height $contentHeight
      .bg
        padding 0
        margin 0
        height 100%
        background url(//static.tasaid.com/images/bg/bg.eff70420.jpg) no-repeat center bottom
        background-size 1808px 1827px
        // will change 大法好
        will-change transform
        transform translate(0px, 0px)
        @media only screen and (min-width: 1442px)
          background-size 2560px 2587px
      .content
        position absolute
        z-index 2
        top 0
        left 0
        bottom 0
        right 0
        .item
          position absolute
          top 50%
          left 50%
          transform translate(-50%, -50%)
          font-size 1.8rem
          &.text
            font-size 1.4rem
            line-height 1
          // background url('//static.tasaid.com/images/focus_bg.6a71bfc9.png') 100%
          .title
            .ting, .shuo
              font-size 5rem
              line-height 5rem
              position relative
              opacity 0
              @keyframes fade-in-txt
                0%
                  opacity 0
                100%
                  opacity 1
            .ting
              animation fade-in-txt 2s, ting-left 2s 2s
              animation-fill-mode forwards
              @keyframes ting-left
                0%
                  left 0rem
                100%
                  left -2rem
            .shuo
              animation fade-in-txt 2s, ting-right 2s 2s
              animation-fill-mode forwards
              @keyframes ting-right
                0%
                  left 0rem
                100%
                  left 2rem
            .dian
              font-size 5rem
              line-height 5rem
              // position absolute
              opacity 0
              animation dian-in 2s 3s
              animation-fill-mode forwards
              @keyframes dian-in
                0%
                  opacity 0
                100%
                  opacity 1
          .fade-in
            opacity 0
            animation dian-in 2s 3s
            animation-fill-mode forwards
            @keyframes dian-in
              0%
                opacity 0
              100%
                opacity 1
.triangle
    position: absolute;
    z-index 10
    width 200%;
    height 200px
    background #fff
    left -50%
    bottom -100px
    transform: rotate(-3deg);

// 居中的内容块容器，设置一些通用的样式
.section-content
  width 825px
  margin 0 auto
  padding-bottom 5rem
  // 顶部 title
  .header
    padding-top 5rem
    // 横线动画
    .line
      .gradient
        background linear-gradient(to right, #00b8ff 0%, #0084ff 50%, #00b8ff 100%)
        // transition-timing-function cubic-bezier(0.165, 0.84, 0.44, 1)
        height 2px
        transform scale(0, 1)
        // 动画结束后的状态
        &.animation-complete
          transform scale(1, 1)
    // 大标题文字
    .title
      margin-top 2rem
      margin 2rem auto 0
      text-align center
      opacity 0
      transform translateY(0)
      // 动画结束后的状态
      &.animation-complete
        opacity 1
        transform translateY(0)
    .font-medium
      font-size 2.2rem
      font-weight 200
      letter-spacing 0.3rem
      line-height 1.2
  // 正文
  .content
    &.box
      margin-top 2rem
    &.fade-in-up
      opacity 0
      // 动画结束后的状态
      &.animation-complete
        opacity 1
        transform none
    .text-des
      font-size 1.214rem
      line-height 1.8
      text-align center
      p
        margin 0
  // 当内容滚动到视窗内后追加的样式
  &.view-show
    .line
      .gradient
        animation line-fade-in 1s 0s
        animation-fill-mode forwards
        @keyframes line-fade-in
          0%
            transform scale(0, 1)
          100%
            transform scale(1, 1)
    .title
      animation up 1s .5s
      animation-fill-mode forwards
      @keyframes up
        0%
          opacity 0
          transform translateY(3rem)
          99%
            opacity 1
            transform translateY(0)
          100%
            opacity 1
            transform none!important
    .content
      &.fade-in-up
        animation up 1s cubic-bezier(0.77, 0, 0.175, 1) 1s
        animation-fill-mode forwards
        @keyframes up
          0%
            opacity 0
            transform translateY(3rem)
          99%
            opacity 1
            transform translateY(0)
          100%
            opacity 1
            transform none!important
/*
  第二个内容快
*/
.content-two
  .content
    position relative
    box-shadow  0 10px 6px -6px #777
    .bg-coldplay
      background url('//static.tasaid.com/images/bg/bg.682409d8.jpg') no-repeat
      overflow hidden
      height 83rem
      width 100%
    .text-des
      opacity 0
      text-align right
      padding 2rem
      line-height 2
      position absolute
      width 825px
      right 0
      top 0
      // 动画结束后的状态
      &.animation-complete
        opacity 1
        transform translateX(0)
  &.view-show
    .content
      .text-des
        animation left-to-right 1s ease-in-out 1.5s
        animation-fill-mode forwards
        @keyframes left-to-right
          0%
            opacity 0
            transform translateX(-3rem)
          100%
            opacity 1
            transform translateX(0)
.content-three
  .section-content
    position relative
    z-index 2
    .header
      // 横线动画
      .line
        .gradient
          background linear-gradient(to right, #7d58e2 0%, #f8420c 100%)
    .content
      // 动态显示打字
      .write-txt
        font-size 3rem
        font-weight 400
        // letter-spacing .1rem
        font-code()
        height 8rem
        text-align center
        opacity 0
        // 动画结束后的状态
        &.animation-complete
          opacity 1
        .write-box
          display inline
          line-height 2
          overflow hidden
          span
            position relative
            &::after
              content ''
              position absolute
              display block
              width 100%
              height 1px
              bottom -5px
              left 0
              background-color currentColor
            &.linkfly
              color #33b5e5
            &.ts
              color #3073BB
            &.js
              color #EDDB68
            &.nodejs
              color #729D6A
            &.react
              color #80D8F7
            &.vue
              color #63B587
            // &.stylus
            //   color #EE6D51
            &.electron
              color #9feaf9
          // ./lib/typed 引入的动态打字光标
        .typed-cursor
          line-height 2
        typed-cursor(#fff)
    &.view-show
      .write-txt
        animation write-txt-fade-in 1s ease-in-out 1s
        animation-fill-mode forwards
        @keyframes write-txt-fade-in
          0%
            opacity 0
          100%
            opacity 1
  // 项目列表
  .projects
    zoom-top()
      position relative
      z-index 2
    padding 0 0 5rem
    width 1284px
    margin 0 auto
    zoom-top()
    overflow hidden
    .project
      background rgba(60, 60, 60, .3)
      float left
      margin-right 2rem
      width 400px
      padding 2rem
      border-radius 4px
      color #fafafa
      border 1px solid #444
      box-shadow 0 10px 10px -6px #222
      transition border-color ease-in-out 0.2s, box-shadow ease-in-out 0.2s
      opacity 0
      &:hover
        border 1px solid #3b99fc
        box-shadow 0px 0px 10px 0px #a2cfff
      // 项目标题
      .title
        zoom-top()
        font-size 2.2rem
        line-height 1
        margin 0
        font-weight 400
      // 项目介绍
      .context
        zoom-top()
        padding 2rem 0
        height 10rem
        p
          margin 0
          font-size 1.1rem
          line-height 1.5
      .buttom
        zoom-top()
        .tips
          font-size .7rem
          color #ccc
        .source
          float right
          &:visited
            color #4078c0
          &:hover
            color #59c6ff
          &::after
            bottom -1px
      .info
        opacity 0
        position relative
        overflow hidden
        &::after
          content ''
          position absolute
          right 0
          bottom -9%
          display block
          font-size 10rem
          line-height 1
          color rgba(88,88,88,0.1)
          font-weight 500
        &.x::after
          content 'XML'
        &.said::after
          content 'Said'
        &.mand::after
          content 'Mand'
      // 动画结束后的状态
      &.animation-complete
        opacity 1
        transform translateX(0rem) rotate(1, 1)
      @keyframes project-fade-in-up
        0%
          opacity 0
          transform translateX(-5rem) scale(0, 0)
        30%
          opacity .5
          transform translateX(-3.5rem) scale(1, .1)
        100%
          opacity 1
          transform translateX(0rem) rotate(1, 1)
      @keyframes project-info-fade-in
        0%
          opacity 0
        100%
          opacity 1
      // 滚动到页面才显示
    &.view-show
      .project
        for value in 1 2 3 4
          &:nth-child({value})
            animation project-fade-in-up 1.5s ease-in-out (value * .3s)
            animation-fill-mode forwards
            .info
              animation project-info-fade-in 1s ease (value * .3s + 1.5s)
              animation-fill-mode forwards
.black-bg
  background #000
  position relative
  overflow hidden
  .self-info
    text-align center
    color #fafafa
    font-size 1.1rem
    display flex
    justify-content space-between
    .des
      width 50%
      padding-top 2.2rem
      text-align left
      opacity 0
      animation text-des-fade-in 1.5s ease-in-out 2s
      animation-fill-mode forwards
      &.animation-complete
        opacity 1
      @keyframes text-des-fade-in
        0%
          opacity 0
        100%
          opacity 1
    .qr
      width 50%
      p
        margin 1rem 0
    .qq-team
      width 80%
      margin 0 auto
      padding 2px
      background #fff
      border-radius 2px
      display block
      transition background-color ease-in-out 0.2s
      &:hover
        background #3b99fc
      img
        width 100%
        height 100%
        display block
        margin 0 auto
  .n-code
    text-align center
    padding-bottom 10rem
    span
      display inline-block
      font-size 1.2rem
      color #fafafa
      position relative
      &::before
        content ''
        display block
        width 100%
        position absolute
        bottom -.5rem
        left 0
        height 1px
        background linear-gradient(to right, #544ebe 0%, #105ce0 100%)
  .bg-keywords
    font-code()
    user-select none
    span
      font-size 10rem
      line-height 1
      position absolute
      color rgba(68, 68, 68, .4)
      // 生成不同字体大小的类
      for size in 1 2 3 4 5 6 7 8 9 10
        &.font-{size}
          font-size size * 1rem